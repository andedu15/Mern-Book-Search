{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anded\\\\OneDrive\\\\Escritorio\\\\Bootcamp\\\\Challenges\\\\Book-Search-Engine\\\\client\\\\src\\\\components\\\\SignupForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport Auth from '../utils/auth';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignupForm = () => {\n  _s();\n\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async event => {\n    event.preventDefault(); // use try/catch instead of promises to handle errors\n\n    try {\n      // execute addUser mutation and pass in variable data from form\n      const {\n        data\n      } = await addUser({\n        variables: { ...formState\n        }\n      });\n      console.log(data);\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      validated: validated,\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        dismissible: true,\n        onClose: () => setShowAlert(false),\n        show: showAlert,\n        variant: \"danger\",\n        children: \"Something went wrong with your signup!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Your username\",\n          name: \"username\",\n          onChange: handleChange,\n          value: formState.username,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Username is required!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Your email address\",\n          name: \"email\",\n          onChange: handleChange,\n          value: formState.email,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Email is required!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Your password\",\n          name: \"password\",\n          onChange: handleChange,\n          value: formState.password,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"Password is required!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: !(formState.username && formState.email && formState.password),\n        type: \"submit\",\n        variant: \"success\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Sign up failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(SignupForm, \"PhfMPeFoi9Awxpkk4A8Y/CydPBU=\", false, function () {\n  return [useMutation];\n});\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"names":["React","useState","Form","Button","Alert","Auth","useMutation","ADD_USER","SignupForm","validated","showAlert","setShowAlert","formState","setFormState","username","email","password","handleChange","event","name","value","target","addUser","error","handleFormSubmit","preventDefault","data","variables","console","log","login","token","e"],"sources":["C:/Users/anded/OneDrive/Escritorio/Bootcamp/Challenges/Book-Search-Engine/client/src/components/SignupForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\n\nimport Auth from '../utils/auth';\n\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\n\nconst SignupForm = () => {\n  const [validated] = useState(false);\n\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const [addUser, { error }] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    // use try/catch instead of promises to handle errors\n    try {\n      // execute addUser mutation and pass in variable data from form\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n      console.log(data);\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert\n          dismissible\n          onClose={() => setShowAlert(false)}\n          show={showAlert}\n          variant=\"danger\"\n        >\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"username\">Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Your username\"\n            name=\"username\"\n            onChange={handleChange}\n            value={formState.username}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Username is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Your email address\"\n            name=\"email\"\n            onChange={handleChange}\n            value={formState.email}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Email is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Your password\"\n            name=\"password\"\n            onChange={handleChange}\n            value={formState.password}\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Password is required!\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          disabled={\n            !(formState.username && formState.email && formState.password)\n          }\n          type=\"submit\"\n          variant=\"success\"\n        >\n          Submit\n        </Button>\n        {error && <div>Sign up failed</div>}\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}